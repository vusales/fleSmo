!function(e,t,n){"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var o=r(e);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(){return m=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},m.apply(this,arguments)}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}(e,t)||s(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e){return function(e){if(Array.isArray(e))return f(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){if(e){if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var c=function(r){var a=r.property,l=r.record,m=r.onChange,s=l.params,f=a.custom,c=t.flat.get(s,f.filePathProperty),d=t.flat.get(s,f.keyProperty),y=t.flat.get(s,f.fileProperty),g=u(e.useState(d),2),C=g[0],b=g[1],h=u(e.useState([]),2),S=h[0],A=h[1];e.useEffect((function(){("string"==typeof d&&d!==C||"string"!=typeof d&&!C||"string"!=typeof d&&Array.isArray(d)&&d.length!==C.length)&&(b(d),A([]))}),[d,C]);return o.default.createElement(n.FormGroup,null,o.default.createElement(n.Label,null,a.label),o.default.createElement(n.DropZone,{onChange:function(e){A(e),m(f.fileProperty,e)},multiple:f.multiple,validate:{mimeTypes:f.mimeTypes,maxSize:f.maxSize},files:S}),!f.multiple&&d&&c&&!S.length&&null!==y&&o.default.createElement(n.DropZoneItem,{filename:d,src:c,onRemove:function(){m(f.fileProperty,null)}}),f.multiple&&d&&d.length&&c?o.default.createElement(o.default.Fragment,null,d.map((function(e,r){return c[r]?o.default.createElement(n.DropZoneItem,{key:e,filename:e,src:c[r],onRemove:function(){return function(e){var n=(t.flat.get(l.params,f.keyProperty)||[]).indexOf(e),r=t.flat.get(l.params,f.filesToDeleteProperty)||[];if(c&&c.length>0){var o=c.map((function(e,t){return t!==n?e:null})),a=t.flat.set(l.params,f.filesToDeleteProperty,[].concat(p(r),[n]));a=t.flat.set(a,f.filePathProperty,o),m(i(i({},l),{},{params:a}))}else console.log("You cannot remove file when there are no uploaded files yet")}(e)}}):""}))):"")},d=["audio/aac","audio/midi","audio/x-midi","audio/mpeg","audio/ogg","application/ogg","audio/opus","audio/wav","audio/webm","audio/3gpp2"],y=["image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/vnd.microsoft.icon","image/tiff","image/webp"],g=function(e){var t=e.name,r=e.path,a=e.mimeType,i=e.width;if(r&&r.length){if(a&&y.includes(a))return o.default.createElement("img",{src:r,style:{maxHeight:i,maxWidth:i},alt:t});if(a&&d.includes(a))return o.default.createElement("audio",{controls:!0,src:r},"Your browser does not support the",o.default.createElement("code",null,"audio"),o.default.createElement("track",{kind:"captions"}))}return o.default.createElement(n.Box,null,o.default.createElement(n.Button,{as:"a",href:r,ml:"default",size:"sm",rounded:!0,target:"_blank"},o.default.createElement(n.Icon,{icon:"DocumentDownload",color:"white",mr:"default"}),t))},C=function(e){var n=e.width,r=e.record,a=e.property,i=a.custom,l=t.flat.get(null==r?void 0:r.params,i.filePathProperty);if(!l)return null;var m=t.flat.get(null==r?void 0:r.params,i.fileNameProperty?i.fileNameProperty:i.keyProperty),u=i.mimeTypeProperty&&t.flat.get(null==r?void 0:r.params,i.mimeTypeProperty);return a.custom.multiple?o.default.createElement(o.default.Fragment,null,l.map((function(e,t){return o.default.createElement(g,{key:e,path:e,name:m[t],width:n,mimeType:u[t]})}))):o.default.createElement(g,{path:l,name:m,width:n,mimeType:u})},b=function(e){return o.default.createElement(C,m({width:100},e))},h=function(e){var t=e.property;return o.default.createElement(n.FormGroup,null,o.default.createElement(n.Label,null,t.label),o.default.createElement(C,m({width:"100%"},e)))};AdminJS.UserComponents={},AdminJS.UserComponents.Component1=c,AdminJS.UserComponents.Component2=b,AdminJS.UserComponents.Component3=h,AdminJS.UserComponents.Component4=c,AdminJS.UserComponents.Component5=b,AdminJS.UserComponents.Component6=h,AdminJS.UserComponents.Component7=c,AdminJS.UserComponents.Component8=b,AdminJS.UserComponents.Component9=h,AdminJS.UserComponents.Component10=c,AdminJS.UserComponents.Component11=b,AdminJS.UserComponents.Component12=h,AdminJS.UserComponents.Component13=c,AdminJS.UserComponents.Component14=b,AdminJS.UserComponents.Component15=h,AdminJS.UserComponents.Component16=c,AdminJS.UserComponents.Component17=b,AdminJS.UserComponents.Component18=h,AdminJS.UserComponents.Component19=c,AdminJS.UserComponents.Component20=b,AdminJS.UserComponents.Component21=h,AdminJS.UserComponents.Component22=c,AdminJS.UserComponents.Component23=b,AdminJS.UserComponents.Component24=h}(React,AdminJS,AdminJSDesignSystem);
