!function(e,t,n){"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var o=r(e);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(){return m=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},m.apply(this,arguments)}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);l=!0);}catch(e){i=!0,o=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw o}}return a}(e,t)||f(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||f(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var s=function(r){var a=r.property,i=r.record,m=r.onChange,f=i.params,c=a.custom,s=t.flat.get(f,c.filePathProperty),d=t.flat.get(f,c.keyProperty),y=t.flat.get(f,c.fileProperty),g=u(e.useState(d),2),b=g[0],h=g[1],C=u(e.useState([]),2),v=C[0],S=C[1];e.useEffect((function(){("string"==typeof d&&d!==b||"string"!=typeof d&&!b||"string"!=typeof d&&Array.isArray(d)&&d.length!==b.length)&&(h(d),S([]))}),[d,b]);return o.default.createElement(n.FormGroup,null,o.default.createElement(n.Label,null,a.label),o.default.createElement(n.DropZone,{onChange:function(e){S(e),m(c.fileProperty,e)},multiple:c.multiple,validate:{mimeTypes:c.mimeTypes,maxSize:c.maxSize},files:v}),!c.multiple&&d&&s&&!v.length&&null!==y&&o.default.createElement(n.DropZoneItem,{filename:d,src:s,onRemove:function(){m(c.fileProperty,null)}}),c.multiple&&d&&d.length&&s?o.default.createElement(o.default.Fragment,null,d.map((function(e,r){return s[r]?o.default.createElement(n.DropZoneItem,{key:e,filename:e,src:s[r],onRemove:function(){return function(e){var n=(t.flat.get(i.params,c.keyProperty)||[]).indexOf(e),r=t.flat.get(i.params,c.filesToDeleteProperty)||[];if(s&&s.length>0){var o=s.map((function(e,t){return t!==n?e:null})),a=t.flat.set(i.params,c.filesToDeleteProperty,[].concat(p(r),[n]));a=t.flat.set(a,c.filePathProperty,o),m(l(l({},i),{},{params:a}))}else console.log("You cannot remove file when there are no uploaded files yet")}(e)}}):""}))):"")},d=["audio/aac","audio/midi","audio/x-midi","audio/mpeg","audio/ogg","application/ogg","audio/opus","audio/wav","audio/webm","audio/3gpp2"],y=["image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/vnd.microsoft.icon","image/tiff","image/webp"],g=function(e){var t=e.name,r=e.path,a=e.mimeType,l=e.width;if(r&&r.length){if(a&&y.includes(a))return o.default.createElement("img",{src:r,style:{maxHeight:l,maxWidth:l},alt:t});if(a&&d.includes(a))return o.default.createElement("audio",{controls:!0,src:r},"Your browser does not support the",o.default.createElement("code",null,"audio"),o.default.createElement("track",{kind:"captions"}))}return o.default.createElement(n.Box,null,o.default.createElement(n.Button,{as:"a",href:r,ml:"default",size:"sm",rounded:!0,target:"_blank"},o.default.createElement(n.Icon,{icon:"DocumentDownload",color:"white",mr:"default"}),t))},b=function(e){var n=e.width,r=e.record,a=e.property,l=a.custom,i=t.flat.get(null==r?void 0:r.params,l.filePathProperty);if(!i)return null;var m=t.flat.get(null==r?void 0:r.params,l.fileNameProperty?l.fileNameProperty:l.keyProperty),u=l.mimeTypeProperty&&t.flat.get(null==r?void 0:r.params,l.mimeTypeProperty);return a.custom.multiple?o.default.createElement(o.default.Fragment,null,i.map((function(e,t){return o.default.createElement(g,{key:e,path:e,name:m[t],width:n,mimeType:u[t]})}))):o.default.createElement(g,{path:i,name:m,width:n,mimeType:u})},h=function(e){return o.default.createElement(b,m({width:100},e))},C=function(e){var t=e.property;return o.default.createElement(n.FormGroup,null,o.default.createElement(n.Label,null,t.label),o.default.createElement(b,m({width:"100%"},e)))};AdminJS.UserComponents={},AdminJS.UserComponents.Component1=s,AdminJS.UserComponents.Component2=h,AdminJS.UserComponents.Component3=C,AdminJS.UserComponents.Component4=s,AdminJS.UserComponents.Component5=h,AdminJS.UserComponents.Component6=C,AdminJS.UserComponents.Component7=s,AdminJS.UserComponents.Component8=h,AdminJS.UserComponents.Component9=C,AdminJS.UserComponents.Component10=s,AdminJS.UserComponents.Component11=h,AdminJS.UserComponents.Component12=C,AdminJS.UserComponents.Component13=s,AdminJS.UserComponents.Component14=h,AdminJS.UserComponents.Component15=C,AdminJS.UserComponents.Component16=s,AdminJS.UserComponents.Component17=h,AdminJS.UserComponents.Component18=C}(React,AdminJS,AdminJSDesignSystem);
